(function() {
  var git, readGitInfo;

  git = require('git-utils');

  readGitInfo = function(path) {
    var repository, result;
    repository = git.open(path);
    result = {
      branch: repository.getShortHead(),
      dirty: Object.keys(repository.getStatus()).length !== 0
    };
    repository.release();
    return result;
  };

  module.exports = function(path) {
    var callback;
    callback = this.async();
    emit('result', readGitInfo(path));
    return callback();
  };

}).call(this);

//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAiZmlsZSI6ICIiLAogICJzb3VyY2VSb290IjogIiIsCiAgInNvdXJjZXMiOiBbCiAgICAiL1VzZXJzL2Rvb3QvLmF0b20vcGFja2FnZXMvZ2l0LXByb2plY3RzL2xpYi9yZWFkLWdpdC1pbmZvLXRhc2suY29mZmVlIgogIF0sCiAgIm5hbWVzIjogW10sCiAgIm1hcHBpbmdzIjogIkFBQUE7QUFBQSxNQUFBLGdCQUFBOztBQUFBLEVBQUEsR0FBQSxHQUFNLE9BQUEsQ0FBUSxXQUFSLENBQU4sQ0FBQTs7QUFBQSxFQUVBLFdBQUEsR0FBYyxTQUFDLElBQUQsR0FBQTtBQUNaLFFBQUEsa0JBQUE7QUFBQSxJQUFBLFVBQUEsR0FBYSxHQUFHLENBQUMsSUFBSixDQUFTLElBQVQsQ0FBYixDQUFBO0FBQUEsSUFDQSxNQUFBLEdBQ0U7QUFBQSxNQUFBLE1BQUEsRUFBUSxVQUFVLENBQUMsWUFBWCxDQUFBLENBQVI7QUFBQSxNQUNBLEtBQUEsRUFBTyxNQUFNLENBQUMsSUFBUCxDQUFZLFVBQVUsQ0FBQyxTQUFYLENBQUEsQ0FBWixDQUFtQyxDQUFDLE1BQXBDLEtBQThDLENBRHJEO0tBRkYsQ0FBQTtBQUFBLElBS0EsVUFBVSxDQUFDLE9BQVgsQ0FBQSxDQUxBLENBQUE7QUFNQSxXQUFPLE1BQVAsQ0FQWTtFQUFBLENBRmQsQ0FBQTs7QUFBQSxFQVdBLE1BQU0sQ0FBQyxPQUFQLEdBQWlCLFNBQUMsSUFBRCxHQUFBO0FBR2YsUUFBQSxRQUFBO0FBQUEsSUFBQSxRQUFBLEdBQVcsSUFBQyxDQUFBLEtBQUQsQ0FBQSxDQUFYLENBQUE7QUFBQSxJQUNBLElBQUEsQ0FBSyxRQUFMLEVBQWUsV0FBQSxDQUFZLElBQVosQ0FBZixDQURBLENBQUE7V0FFQSxRQUFBLENBQUEsRUFMZTtFQUFBLENBWGpCLENBQUE7QUFBQSIKfQ==

//# sourceURL=/Users/doot/.atom/packages/git-projects/lib/read-git-info-task.coffee
