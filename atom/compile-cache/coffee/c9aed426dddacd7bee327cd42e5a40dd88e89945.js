(function() {
  var clone, determineRootDirectory, findIndex, path;

  path = require("path");

  findIndex = function(values, fn) {
    var i, len;
    i = 0;
    len = values.length;
    while (i < len) {
      if (fn(values[i])) {
        return i;
      }
      i++;
    }
    return -1;
  };

  clone = function(obj) {
    return JSON.parse(JSON.stringify(obj));
  };

  determineRootDirectory = function(textEditor) {
    var activeFilePath, dirs, idx;
    activeFilePath = textEditor.getPath();
    dirs = atom.project.getDirectories();
    idx = findIndex(dirs, function(dir) {
      return dir.contains(activeFilePath);
    });
    if (idx >= 0) {
      return dirs[idx].getPath();
    } else {
      return path.dirname(activeFilePath);
    }
  };

  module.exports = {
    clone: clone,
    findIndex: findIndex,
    determineRootDirectory: determineRootDirectory
  };

}).call(this);

//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAiZmlsZSI6ICIiLAogICJzb3VyY2VSb290IjogIiIsCiAgInNvdXJjZXMiOiBbCiAgICAiL1VzZXJzL2Rvb3QvLmF0b20vcGFja2FnZXMvbGludGVyLXBlcmwvbGliL3V0aWwuY29mZmVlIgogIF0sCiAgIm5hbWVzIjogW10sCiAgIm1hcHBpbmdzIjogIkFBQUE7QUFBQSxNQUFBLDhDQUFBOztBQUFBLEVBQUEsSUFBQSxHQUFPLE9BQUEsQ0FBUSxNQUFSLENBQVAsQ0FBQTs7QUFBQSxFQUVBLFNBQUEsR0FBWSxTQUFDLE1BQUQsRUFBUyxFQUFULEdBQUE7QUFDVixRQUFBLE1BQUE7QUFBQSxJQUFBLENBQUEsR0FBSSxDQUFKLENBQUE7QUFBQSxJQUNBLEdBQUEsR0FBTSxNQUFNLENBQUMsTUFEYixDQUFBO0FBRUEsV0FBTSxDQUFBLEdBQUksR0FBVixHQUFBO0FBQ0UsTUFBQSxJQUFZLEVBQUEsQ0FBRyxNQUFPLENBQUEsQ0FBQSxDQUFWLENBQVo7QUFBQSxlQUFPLENBQVAsQ0FBQTtPQUFBO0FBQUEsTUFDQSxDQUFBLEVBREEsQ0FERjtJQUFBLENBRkE7QUFLQSxXQUFPLENBQUEsQ0FBUCxDQU5VO0VBQUEsQ0FGWixDQUFBOztBQUFBLEVBVUEsS0FBQSxHQUFRLFNBQUMsR0FBRCxHQUFBO1dBQVMsSUFBSSxDQUFDLEtBQUwsQ0FBVyxJQUFJLENBQUMsU0FBTCxDQUFlLEdBQWYsQ0FBWCxFQUFUO0VBQUEsQ0FWUixDQUFBOztBQUFBLEVBYUEsc0JBQUEsR0FBeUIsU0FBQyxVQUFELEdBQUE7QUFDdkIsUUFBQSx5QkFBQTtBQUFBLElBQUEsY0FBQSxHQUFpQixVQUFVLENBQUMsT0FBWCxDQUFBLENBQWpCLENBQUE7QUFBQSxJQUNBLElBQUEsR0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLGNBQWIsQ0FBQSxDQURQLENBQUE7QUFBQSxJQUdBLEdBQUEsR0FBTSxTQUFBLENBQVUsSUFBVixFQUFnQixTQUFDLEdBQUQsR0FBQTthQUFTLEdBQUcsQ0FBQyxRQUFKLENBQWEsY0FBYixFQUFUO0lBQUEsQ0FBaEIsQ0FITixDQUFBO0FBSUEsSUFBQSxJQUFHLEdBQUEsSUFBTyxDQUFWO0FBQ0UsYUFBTyxJQUFLLENBQUEsR0FBQSxDQUFJLENBQUMsT0FBVixDQUFBLENBQVAsQ0FERjtLQUFBLE1BQUE7QUFHRSxhQUFPLElBQUksQ0FBQyxPQUFMLENBQWEsY0FBYixDQUFQLENBSEY7S0FMdUI7RUFBQSxDQWJ6QixDQUFBOztBQUFBLEVBdUJBLE1BQU0sQ0FBQyxPQUFQLEdBQ0U7QUFBQSxJQUFBLEtBQUEsRUFBTyxLQUFQO0FBQUEsSUFDQSxTQUFBLEVBQVcsU0FEWDtBQUFBLElBRUEsc0JBQUEsRUFBd0Isc0JBRnhCO0dBeEJGLENBQUE7QUFBQSIKfQ==

//# sourceURL=/Users/doot/.atom/packages/linter-perl/lib/util.coffee
